(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{3265:function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"acg"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"acg"},value:{kind:"Variable",name:{kind:"Name",value:"acg"}}},{kind:"Argument",name:{kind:"Name",value:"loggedInOnly"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activatedWorkgroups"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeInStatusInSeconds"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:148}};a.loc.source={body:"query($acg: String) {\n  users(acg: $acg, loggedInOnly: true) {\n    displayName\n    activatedWorkgroups\n    statusId\n    timeInStatusInSeconds\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}var i={};(function(){a.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),i[e.name.value]=t}}))})(),e.exports=a},"6add":function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"wgs"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workgroups"},value:{kind:"Variable",name:{kind:"Name",value:"wgs"}}},{kind:"Argument",name:{kind:"Name",value:"loggedInOnly"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activatedWorkgroups"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeInStatusInSeconds"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:165}};a.loc.source={body:"query ($wgs:[String]) {\r\n  users(workgroups: $wgs, loggedInOnly: true) {\r\n    displayName\r\n    activatedWorkgroups\r\n    statusId\r\n    timeInStatusInSeconds\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function s(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){s(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){s(e,t)})),e.definitions&&e.definitions.forEach((function(e){s(e,t)}))}var i={};(function(){a.definitions.forEach((function(e){if(e.name){var t=new Set;s(e,t),i[e.name.value]=t}}))})(),e.exports=a},"8b24":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"q-pa-xs"},[a("q-splitter",{attrs:{disable:!e.verticalMode,horizontal:!e.verticalMode},scopedSlots:e._u([{key:"before",fn:function(){return["nokpis"in e.$route.query?e._e():a("kpi-grid",{attrs:{pause:e.pause}})]},proxy:!0},{key:"after",fn:function(){return[e.hideUsers||"nousers"in e.$route.query?e._e():a("agent-grid",{attrs:{pause:e.pause}})]},proxy:!0}]),model:{value:e.splitY,callback:function(t){e.splitY=t},expression:"splitY"}})],1)},i=[],n=a("ded3"),r=a.n(n),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-table",{staticClass:"kpiTable",attrs:{"hide-bottom":e.pagination.rowsPerPage>=e.datakpi.length,dense:!0,columns:e.columns,separator:e.displaySettings.statSeparator?"horizontal":"none",data:e.datakpi,"hide-header":!e.displaySettings.displayStatNames,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body-cell",fn:function(t){return[a("q-td",{staticClass:"non-selectable",style:e.fontSizes.large,attrs:{props:t}},["label"===t.col.field?a("div",{staticClass:"text-primary text-weight-bolder"},[e._v("\n          "+e._s(t.value)+"\n        ")]):e._e(),t.value?a("stat-display",{attrs:{stat:t.value,large:"level"!==t.value.display,target:e.displaySettings.displayTarget,fontSizes:e.fontSizes}}):e._e()],1)]}},{key:"header-cell",fn:function(t){return[a("q-th",{staticClass:"text-primary text-weight-bolder",style:e.fontSizes.header,attrs:{props:t}},[a("q-icon",{attrs:{name:"fa fa-sort",color:t.col.sortable?"secondary":"grey-3"}}),e._v("\n      "+e._s(t.col.label)+"\n    ")],1)]}}])})],1)},o=[],d=(a("ddb0"),a("2f62")),u=a("5184"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"align-center"},["timer"==e.stat.display?a("q-badge",{class:["bg-"+e.stat.color,"q-pa-sm","text-white text-weight-bold glossy"],style:e.fontSizes.badge},[a("q-icon",{attrs:{name:"timer"}}),e._v("\n    "+e._s(e._f("hms")(e.stat.value))+"\n  ")],1):"queue"==e.stat.display?a("q-badge",{staticClass:"glossy text-weight-bolder",class:e.large?["q-px-md","q-py-sm"]:["q-pa-sm"],style:e.fontSizes.badge,attrs:{"text-color":"white",color:e.stat.color,label:e.stat.value}}):"level"==e.stat.display?a("LevelDisplay",{attrs:{fontSizes:e.fontSizes,stat:Object.assign({},e.stat),large:e.large,target:e.target}}):a("div",{staticClass:"text-secondary text-weight-bolder"},[e._v("\n    "+e._s(e.stat.value)+"\n  ")])],1)},p=[],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-circular-progress",{class:e.customClasses,attrs:{value:100*e.stat.realvalue,undetermined:!0,"show-value":"",size:(e.large,e.fontSizes.level.lineHeight),"font-size":(e.large,e.fontSizes.level.fontSize),thickness:this.large?.28:.26,color:e.realColor.color,"track-color":"grey-4"}},[e._v("\n     "+e._s(e.cleanValue)+"\n     "),a("q-badge",{directives:[{name:"show",rawName:"v-show",value:e.target,expression:"target"}],staticClass:"q-mr-md shadow-2",class:e.customBadgeClasses,attrs:{floating:"",color:"grey-3"}},[e.stat.warn?a("span",{staticClass:"text-warning"},[e._v("\n         "+e._s(e.stat.warn+"%"))]):e._e(),e.stat.alert?a("span",{staticClass:"text-negative"},[e._v("\n         "+e._s(e.stat.alert+"%"))]):e._e()])],1)],1)},v=[],m={name:"LevelDisplay",props:["stat","large","target","fontSizes"],computed:{realColor(){return{warn:this.stat.warn,alert:this.stat.alert,realvalue:this.stat.value,color:Math.round(100*this.stat.value)>this.stat.alert?Math.round(100*this.stat.value)>this.stat.warn?"positive":"warning":"negative"}},customClasses(){return[`text-${this.realColor.color}`]},customBadgeClasses(){return[this.large?["targetBadgeBig","float-left","q-pa-sm"]:["targetBadge","float-left"]]},cleanValue(){var e;return isNaN((null===(e=this.stat)||void 0===e?void 0:e.value)||"N/A")?"...":Math.round(100*parseFloat(this.stat.value))+"%"}}},f=m,h=(a("cdae"),a("2877")),b=a("58ea"),k=a("58a81"),y=a("eebe"),S=a.n(y),w=Object(h["a"])(f,g,v,!1,null,"f2fa27ce",null),q=w.exports;S()(w,"components",{QCircularProgress:b["a"],QBadge:k["a"]});var _={name:"StatDisplay",components:{LevelDisplay:q},props:["stat","large","target","fontSizes"]},x=_,N=a("0016"),I=Object(h["a"])(x,c,p,!1,null,null,null),C=I.exports;S()(I,"components",{QBadge:k["a"],QIcon:N["a"]});var z=a("82c0"),O={props:{pause:{type:Boolean,required:!0}},components:{StatDisplay:C},watch:{boardRoute(e){this.refresKpis()}},data(){return{datakpi:[]}},computed:r()(r()({},Object(d["c"])(["kpiActiveGroups","activeStatistics","refreshDelay","displaySettings","fontSizes"])),{},{pagination:{get(){var e;return(null===(e=this.displaySettings)||void 0===e?void 0:e.KPIpagination)||{sortBy:"label",descending:!1,page:1,rowsPerPage:12}},set(e){this.saveSettings({KPIpagination:e})}},columns(){return[{name:"label",label:"Workgroup Group Name",field:"label",required:!0,align:"left",format:e=>`${e}`,sortable:!0},...this.activeStatistics.map((e=>({name:e.label,label:`${e.label}`,align:"center",sortable:!0,field:e.queryField,sort:(e,t)=>parseInt(e.realvalue)-parseInt(t.realvalue)})))]},queryKPI(){const e=this.activeStatistics.map((e=>e.queryField)).join(" "),t="query {"+(Object.keys(this.kpiActiveGroups)||["default"]).map((t=>`${Object(z["a"])(t)}:workgroupsAggregation (names:["${this.kpiActiveGroups[t].join('" "')}"]){${e}}`)).join(" ")+"}";return Object(u["b"])(t)}}),methods:r()(r()(r()({},Object(d["d"])(["UPDATE_NETSTATUS"])),Object(d["b"])("settings",["saveSettings"])),{},{refresKpis(){0==this.$apollo.queries.kpis.loading&&this.$apollo.queries.kpis.refetch({query:this.queryKPI})},filldatakpi(e){this.datakpi=Object.keys(this.kpiActiveGroups).map((t=>{var a=e[Object(z["a"])(t)];const s={};return this.activeStatistics.map((e=>{s[e.queryField]=r()(r()({},e),{},{value:a?a[e.queryField]:null,realvalue:a?a[e.queryField]:null}),e.targetLevels&&a&&(s[e.queryField].color=a[e.queryField]>e.targetLevels[1]?"negative":"positive",s[e.queryField].warn=Math.abs(e.targetLevels[0]),s[e.queryField].alert=Math.abs(e.targetLevels[1]))})),r()({label:t},s)}))}}),mounted(){this.$root.$on("UPDATE_KPIS",this.refresKpis)},apollo:{kpis:{query(){return this.queryKPI},update(e){this.filldatakpi(e)},result(e,t){e.networkStatus!==this.kpis_status&&this.UPDATE_NETSTATUS({key:t,status:e.networkStatus})}}}},T=O,D=a("eaac"),A=a("db86"),$=a("357e"),j=Object(h["a"])(T,l,o,!1,null,null,null),E=j.exports;S()(j,"components",{QTable:D["a"],QTd:A["a"],QTh:$["a"],QIcon:N["a"]});var F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-table",{attrs:{"hide-bottom":e.pagination.rowsPerPage>=e.datausers.length,dense:"","row-key":function(e){return e.displayName},columns:e.columns,"visible-columns":e.visibleColumns,separator:e.settings.displayStatSeparator?"horizontal":"none",data:e.users,"hide-header":!e.settings.displayStatNames,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body-cell",fn:function(t){return[a("q-td",{class:["bg-"+t.row.color+"-"+(e.$q.dark.isActive?"9":"6"),"text-"+t.row.color+"-"+(e.$q.dark.isActive?"6":"3")],attrs:{props:t}},["statusId"==t.col.field?a("div",{staticClass:"text-weight-bold text-center",style:[t.value.length<20?e.fontSizes.badge:e.fontSizes.medium]},[e._v("\n        "+e._s(t.value)+"\n      ")]):"timeInStatusInSeconds"==t.col.field?a("q-badge",{staticClass:"q-pl-sm shadow-up-5",style:e.fontSizes.badge,attrs:{dense:"",color:t.row.color+"-9","text-color":"white"}},[e._v("\n        "+e._s(e._f("hms")(t.value))+"\n      ")]):"awg"==t.col.field?a("workgroup-indicators",{attrs:{wgas:t.value,color:t.row.color}}):a("q-badge",{staticClass:"q-px-xs shadow-up-3",style:e.fontSizes.badge,attrs:{color:t.row.color+"-9","text-color":"white"}},[e._v("\n        "+e._s(t.value)+"        \n      "),t.row["icon"]?a("q-icon",{staticClass:"q-ml-sm",attrs:{name:t.row.icon,color:t.row.color}}):e._e()],1)],1)]}},{key:"header-cell",fn:function(t){return[a("q-th",{staticClass:"text-primary text-weight-bolder q-px-xs",style:e.fontSizes.header,attrs:{props:t}},[a("q-icon",{attrs:{name:"fa fa-sort",color:t.col.sortable?"secondary":"grey-3"}}),e._v("\n      "+e._s(t.col.label)+"\n    ")],1)]}}])})},P=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.wgas,(function(t,s){return a("q-badge",{key:s,staticClass:"text-weight-bold shadow-8 glossy align-center q-px-xs q-mr-xs",style:Object.assign({},e.fontSizes.badge,{backgroundColor:t.color}),attrs:{"text-color":e.color+"-9"}},[e._v("\n    "+e._s(t.label)+"\n  ")])})),1)},U=[],B={name:"WorkgroupIndicators",props:["wgas","color"],computed:r()({},Object(d["c"])({fontSizes:"fontSizesAlt"}))},W=B,G=Object(h["a"])(W,Q,U,!1,null,null,null),V=G.exports;S()(G,"components",{QBadge:k["a"]});var K=a("6add"),L=a.n(K),M=a("3265"),Y=a.n(M),J={name:"AgentsDisplay",components:{WorkgroupIndicators:V},props:{pause:{type:Boolean,required:!0}},data(){return{datausers:[],zpagination:{sortBy:"displayName",descending:!1,page:1,rowsPerPage:22}}},computed:r()(r()(r()({},Object(d["e"])(["users_status"])),Object(d["c"])({settings:"displaySettings",activeStatuses:"activeStatuses",usersWorkgroups:"usersWorkgroups",kpiWorkgroups:"kpiWorkgroups",boardConfig:"boardConfig",refreshDelay:"refreshDelay",fontSizes:"fontSizesAlt"})),{},{pagination:{get(){var e;return(null===(e=this.displaySettings)||void 0===e?void 0:e.Userspagination)||this.zpagination},set(e){this.zpagination=e,this.saveSettings({Userspagination:e})}},visibleColumns(){var e;return null!==(e=this.settings)&&void 0!==e&&e.realtime?this.columns.map((e=>e.name)):this.columns.map((e=>e.name)).filter((e=>!["awg"].includes(e)))},columns(){return[{name:"displayName",label:"User",field:"displayName",required:!0,align:"left",sortable:!0},{name:"awg",label:"Activated Workgroups",field:"awg",align:"center",sortable:!0},{name:"status",label:"ACD Status",field:"statusId",align:"center",sortable:!0},{name:"timeinstatus",label:"Since",field:"timeInStatusInSeconds",align:"right",sortable:!0}]}}),methods:r()(r()(r()({},Object(d["d"])(["UPDATE_NETSTATUS"])),Object(d["b"])("settings",["saveSettings"])),{},{refreshUsers(){0==this.$apollo.queries.users.loading&&this.$apollo.queries.users.refetch()}}),mounted(){this.$root.$on("UPDATE_USERS",this.refreshUsers)},apollo:{users:{query(){return this.boardConfig.accessGroup?Y.a:L.a},variables(){return this.boardConfig.accessGroup?{acg:this.boardConfig.accessGroup||""}:{wgs:this.usersWorkgroups||[]}},update(e){return((null===e||void 0===e?void 0:e.users)||[]).map((e=>{var t,a,s=null===(t=this.activeStatuses.find((t=>t.label===e.statusId)))||void 0===t?void 0:t.color,i=null===(a=this.activeStatuses.find((t=>t.label===e.statusId)))||void 0===a?void 0:a.icon,n=this.boardConfig.workgroups.filter((t=>-1!==e.activatedWorkgroups.indexOf(t.name)&&t.label)).map((e=>({label:e.label,color:e.color})));return r()(r()({},e),{},{color:s,awg:n,icon:i})})).filter((e=>e.color))},result(e,t){return e.networkStatus!==this.users_status&&this.UPDATE_NETSTATUS({key:t,status:e.networkStatus}),(null===e||void 0===e?void 0:e.data)||{}}}}},R=J,H=Object(h["a"])(R,F,P,!1,null,null,null),X=H.exports;S()(H,"components",{QTable:D["a"],QTd:A["a"],QBadge:k["a"],QIcon:N["a"],QTh:$["a"]});var Z={components:{KpiGrid:E,AgentGrid:X},props:{pause:{type:Boolean,required:!0}},methods:r()({},Object(d["b"])("settings",["saveSettings"])),computed:r()(r()({},Object(d["c"])(["verticalMode","displaySettings","hideUsers"])),{},{splitY:{get(){var e;return(null===(e=this.displaySettings)||void 0===e?void 0:e.splitY)||50},set(e){this.saveSettings({splitY:e})}}})},ee=Z,te=a("9989"),ae=a("8562"),se=Object(h["a"])(ee,s,i,!1,null,null,null);t["default"]=se.exports;S()(se,"components",{QPage:te["a"],QSplitter:ae["a"]})},cdae:function(e,t,a){"use strict";a("f73a")},f73a:function(e,t,a){}}]);